<app-navbar></app-navbar>
<app-sidebar></app-sidebar>



<main id="main" class="main">
  <div class="card">
    <div class="card-body">
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Title Header</th>
            <th scope="col">Title body</th>
            <th scope="col">Image</th>
            <th scope="col">Operation</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let obj of admin.homeData">
            <td>{{ obj.textt }}</td>
            <td>{{ obj.textp }}</td>
            <td>
              <img src="../../../assets/Images/Pages/{{obj.image}}"  style="height: 60px; width: 100px; border-radius: 20px;" alt="image">
            </td>
            <td>
                <div>
                    <button class="btn btn-primary m-1"(click)="updateDailog(obj)">Update</button>
                  </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <ng-template #callDelateDailog>
    <h1 mat-dialog-title>Delete Homepage</h1>
    <div mat-dialog-content>Are you sure you want to delete this item?</div>
    <div mat-dialog-actions>
      <button mat-button mat-dialog-close="yes">Yes</button>
      <button mat-button mat-dialog-close="no">No</button>
    </div>
  </ng-template>
</main>



<ng-template #callUpdate>
    <h2 mat-dialog-title>Update home</h2>
    <mat-dialog-content >
      <form [formGroup]="updateForm" >
  
        <mat-label>Image</mat-label>
        <input type="file" #file formControlName="image" (change)="uploadImg(file.files)" [(ngModel)]="p_data.image"><br/>
        <mat-form-field class="mt-3">
          <mat-label>Title Header</mat-label>
          <input  type="text" matInput formControlName="textt" [(ngModel)]="p_data.textt"/>
        </mat-form-field>
        <br/>
  
        <mat-form-field >
          <mat-label>Title Body</mat-label>
          <input type="text"  matInput formControlName="textp"[(ngModel)]="p_data.textp"/>
        </mat-form-field>
        <br />
      </form>
    </mat-dialog-content>
    <mat-dialog-actions align="end">
      <button mat-button mat-dialog-close>Cancel</button>
      <button mat-button [mat-dialog-close]="true"  cdkFocusInitial (click)="updateHome()" >
        Update
      </button>
    </mat-dialog-actions>
  </ng-template>